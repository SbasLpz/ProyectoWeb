<p>crear-proveedor works!</p>

<div class="contenedor" style="display: block;">
    <div class="row">
        <div class="col" style="display: grid; justify-content: center;">
            
            <form [formGroup]="formularioCrear" (ngSubmit)="submit($event)">
                <br><h1>Proveedores</h1><br>
                
                <p>
                    Código:
                    @if (consecutivos.length < 1) {
                        <p>Código: <input type="text" formControlName="codigo"></p>
                    } @else {
                        <select formControlName="codigo">
                            <option value="" disabled selected>Elija una opción</option>
                            @for (consec of consecutivos; track $index) {
                                <option [value]="consec.prefijo">{{consec.prefijo}}</option>
                            }
                        </select>
                    }
                    @if (this.formularioCrear.get('codigo')?.errors?.['required']) {
                        <span>(Campo requerido)</span>
                    }
                </p>
                <p>
                    Cédula: 
                    <input type="number" formControlName="cedula">
                    @if (this.formularioCrear.get('cedula')?.errors?.['required']) {
                        <span>(Campo requerido)</span>
                    }
                </p>
                <p>
                    Fecha de ingreso: 
                    <input type="date" formControlName="ingreso">
                    @if (this.formularioCrear.get('ingreso')?.errors?.['required']) {
                        <span>(Campo requerido)</span>
                    }
                </p>
                <p>
                    Nombre del proveedor: <input type="text" formControlName="proveedor">
                    @if (this.formularioCrear.get('proveedor')?.errors?.['required']) {
                        <span>(Campo requerido)</span>
                    }
                </p>
                <p>
                    Primer Apellido: <input type="text" formControlName="primerApellido">
                    @if (this.formularioCrear.get('primerApellido')?.errors?.['required']) {
                        <span>(Campo requerido)</span>
                    }
                </p>
                <p>
                    Segundo Apellido: <input type="text" formControlName="segundoApellido">
                    @if (this.formularioCrear.get('segundoApellido')?.errors?.['required']) {
                        <span>(Campo requerido)</span>
                    }
                </p>
                <p>
                    Correo electrónico: <input type="text" formControlName="correo">
                    @if (this.formularioCrear.get('correo')?.errors?.['required']) {
                        <span>(Campo requerido)</span>
                    }
                    @if (this.formularioCrear.get('correo')?.errors?.['email']) {
                        <span>(El correo debe tener {{arroba}} y su terminación)</span>
                    }
                </p>
                <p>
                    Dirección: <input type="text" formControlName="direccion">
                    @if (this.formularioCrear.get('direccion')?.errors?.['required']) {
                        <span>(Campo requerido)</span>
                    }
                </p>

                <br><h3>Télefonos</h3><br>

                <p>
                    Oficina: <input type="tel" formControlName="telOficina" (input)="telValido($event, 'telOficina')" maxlength="8" minlength="8">
                    @if (this.formularioCrear.get('telOficina')?.errors?.['required']) {
                        <span>(Campo requerido)</span>
                    }
                    <!-- @if (this.formularioCrear.get('telOficina')?.errors?.['minLength']) {
                        <span>(Digite los 8 digitos de su número: 12001012)</span>
                    } -->
                    <span *ngIf="formularioCrear.get('telOficina')?.hasError('incorrectLength')">
                        (Digite los 8 dígitos de su número)
                    </span>
                </p>
                <p>
                    Personal: <input type="text" formControlName="telPersonal" (input)="telValido($event, 'telPersonal')" maxlength="8" minlength="8">
                    @if (this.formularioCrear.get('telPersonal')?.errors?.['required']) {
                        <span>(Campo requerido)</span>
                    }
                    <span *ngIf="formularioCrear.get('telPersonal')?.hasError('incorrectLength')">
                        (Digite los 8 dígitos de su número)
                    </span>
                </p>

                <br><h3>Pase de productos</h3><br>

                <div>
                    <p>Seleccione los productos que SÍ maneja el Proveedor para el restaurante:</p> <br>
                    <ul>
                        @for (producto of productos; track $index) {
                            <li><input type="checkbox" [checked]="producto.checked" (change)="updateChecked($index, $event)">  {{producto.nombre}}</li>
                        }
                    </ul>
                    <br>
                    <button type="button" (click)="addToList()" class="btn btn-primary">Listo</button>
                </div>

                <br><h3>Información de contacto</h3><br>

                <p>
                    Nombre del contacto: <input type="text" formControlName="nombreContacto">
                    @if (this.formularioCrear.get('nombreContacto')?.errors?.['required']) {
                        <span>(Campo requerido)</span>
                    }
                </p>
                <p>
                    Télefono del contacto: <input type="tel" formControlName="telContacto" (input)="telValido($event, 'telContacto')" maxlength="8" minlength="8">
                    @if (this.formularioCrear.get('telContacto')?.errors?.['required']) {
                        <span>(Campo requerido)</span>
                    }
                    <span *ngIf="formularioCrear.get('telContacto')?.hasError('incorrectLength')">
                        (Digite los 8 dígitos de su número)
                    </span>
                </p>
                <p>
                    Correo del contacto: <input type="text" formControlName="correoContacto">
                    @if (this.formularioCrear.get('correoContacto')?.errors?.['required']) {
                        <span>(Campo requerido)</span>
                    }
                    @if (this.formularioCrear.get('correoContacto')?.errors?.['email']) {
                        <span>(El correo debe tener {{arroba}} y su terminación)</span>
                    }
                </p>
                
                <div style="display: flex;">
                    <button type="submit" class="btn btn-success" style="margin-right: 10px;">Crear</button>
                    <button type="button" class="btn btn-danger" >Cancelar</button>
                </div>
            </form>
        </div>

        <div class="col-5">
            <img src="assets/imgs/proveedor.jpg" alt="" width="90%" height="100%">
        </div>
    </div>
</div>